"use strict";var passwd,$=require("jquery"),DarkReader=require("darkreader"),isHome=!1,isPC=!1,isMB=!1,isZoom=!1,isCard=!1,cent="",topBtn="",CARDPAGES=["idea","diary","joker","gtd","story","wiki","web-developer-roadmap"];["/public/index.html","/public/index","/public/","/index.html","/index","/"].includes(location.pathname)&&(isHome=!0),isCurPage("joker")&&(sessionStorage.getItem("pw")?console.log("Welcome, Sir."):"just go out"===(passwd=prompt("Sorry, you have no permissionsÔºÅ"))?(console.log("Welcome, Sir."),sessionStorage.setItem("pw",!0)):window.location.pathname="/"),"PC"==browserRedirect()?isPC=!0:isMB=!0,$(document).ready(function(){var t,e=$("#table-of-contents"),a=$("body"),n=$(".title"),i=$("#content");if(a.addClass("animated fadeIn slow"),n.click(toggleColor),createNavButton(),topBtn=createTopButton(),$(window).scroll(scrollToTop),a.on("touchstart",touchStart),a.on("touchend",touchEnd),e&&e.click(hideDir),isPC&&e&&(t=-parseInt(e.width()/$(document).width()*100)+"%",e.css("left",t),e.mouseenter(function(){return e.css("left",0)}),e.mouseleave(function(){return e.css("left",t)})),isHome&&(i.addClass("js-home-content"),e&&e.css("display","none"),$(".top-btn").css("display","none"),$(".nav-btn").css("display","none"),$("thead").each(function(){isPC?$(this).parent().hover(function(){$(this).find("tbody").fadeToggle()}):$(this).parent().click(function(){$(this).find("tbody").fadeToggle()});var t=$(this).parent().find("td").length,e=$(this).find("th").text();$(this).find("th").html("".concat(e,' <span style="font-size: 12px; color: #ace; float: right;">(').concat(t,")</span>"))}),$("#wechat").hide(),$(".wechat").hover(function(){$("#wechat").fadeToggle()})),$("note").each(function(){$(this).addClass("js-note")}),$("essay").each(function(){$(this).addClass("js-essay")}),$(".me .contact #weibo").attr("href","//weibo.com/u/"+USERCONFIG.weibo),$(".me #wechat img").attr("src","/images/"+USERCONFIG.wechat),$(".me .contact #email").attr("href","mailto:"+USERCONFIG.email),$(".me .contact #github").attr("href",(USERCONFIG.gitee||"//github.com/")+USERCONFIG.github),$(".me .contact #bilibili").attr("href","//space.bilibili.com/"+USERCONFIG.bilibili),$(".validation").html('<a href="http://beian.miit.gov.cn" target="_blank">'+USERCONFIG.icp+"</a>"),$(".timestamp-wrapper").parent().addClass("gtd-timestamp"),$("#postamble .date")[1].innerText="Updated: "+$("#postamble .date")[1].innerText.substring(8),$("#postamble .author")[0].innerText="Author: "+USERCONFIG.author,document.addEventListener&&document.addEventListener("DOMMouseScroll",scrollFunc,!1),window.addEventListener("mousewheel",scrollFunc),document.addEventListener("mousewheel",scrollFunc),isPC&&$(document).click(function(t){var e=120;a.append("<div class='water-animate'>"),$(".water-animate").css({position:"fixed",left:t.clientX,top:t.clientY,borderRadius:e+"px",border:"2px solid #19f","z-index":-1}).stop().animate({width:e,height:e,left:t.clientX-60,top:t.clientY-60,opacity:"0"},"slow",function(){return $("body .water-animate").remove()})}),isMB&&($("#postamble").css("display","none"),$("body").append('<a class="js-footer-slogan" href="http://beian.miit.gov.cn/" target="_blank">'+USERCONFIG.icp+"</a>"),$(".me #wechat img").width("40%")),$(".src").each(function(){var t=$(this)[0].className.split(" src-")[1];$('<span class="js-code-src">'+t+"</span>").prependTo($(this))}),$("pre").each(function(){$(this).dblclick(function(){var t=$(this);t.addClass("js-pre-dblclick"),setTimeout(function(){t.removeClass("js-pre-dblclick")},1e4)})}),$("img").each(function(t,e){$(this).click(function(){isZoom||($("html").append("\n                    <div class='img-wrapper animated pulse faster'>\n                        <img class='img-zoom' src=".concat(e.src," />\n                    </div>\n                    ")),$(".img-wrapper").click(function(){$(".img-wrapper").remove(),isZoom=!1}),isZoom=!0)})}),(isCurPage(CARDPAGES)||isCard)&&($(".outline-2").each(function(){$(this).addClass("js-outline-2")}),$(".outline-3").each(function(){$(this).addClass("js-outline-3")})),isCurPage("nav")){a.addClass("js-nav-body"),$('<div class="js-nav-link-container"></div>').insertAfter(n),$("td a").each(function(t,e){$(this).attr("target","_blank"),$(".js-nav-link-container").append(e)}),$(".org-ul a").each(function(){$(this).attr("target","_blank")});var o=0;0==(o=$(".js-nav-link-container a").length%5)&&(o=5);for(var s=0;s<5-o;s++)$(".js-nav-link-container").append("<a></a>");$("#content p").addClass("js-nav-bookmarks");i=$("li").length-1,n="",n=20<i?"Ôºàüî•Â§™Â§ö‰∫ÜÔºåËµ∂Âø´Â§ÑÁêÜÂêßÔºå‰∫≤ÔºÅÔºâ":"Ôºàüò§Áä∂ÊÄÅËøò‰∏çÈîôÔºÅÔºâ";$("#content p").append('<span style="float: right;"><progress value="'.concat(i,'" max="100"></progress> ').concat(n).concat(i," Êù°</span>")),$(".org-ul").addClass("js-nav-bookmarks-container")}});var isDark="false";function toggleColor(){"false"===isDark?(DarkReader.enable({brightness:100,contrast:90,sepia:10}),isDark="true",localStorage.setItem("isDark",isDark)):(DarkReader.disable(),isDark="false",localStorage.setItem("isDark",isDark),location.reload())}function browserRedirect(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),a="iphone os"==t.match(/iphone os/i),n="midp"==t.match(/midp/i),i="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),o="ucweb"==t.match(/ucweb/i),s="android"==t.match(/android/i),c="windows ce"==t.match(/windows ce/i),t="windows mobile"==t.match(/windows mobile/i);return e||a||n||i||o||s||c||t?"MB":"PC"}function hideDir(){var t;isMB&&(t=document.getElementById("table-of-contents"),1==getComputedStyle(t).opacity?(t.style.top="-380px",t.style.opacity=0):(t.style.top="0px",t.style.opacity=1))}function scrollToTop(){var t=$(document).height(),e=$(window).height(),a=$(document).scrollTop(),e=parseInt(a/(t-e)*100);cent=(e=(""+e).length<2?"0"+e:e)+"% ‚Üë",topBtn.innerHTML=cent}function createTopButton(){var t=document.createElement("div");return t.innerHTML="TOP ‚Üë",t.setAttribute("class","top-btn"),t.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.body.appendChild(t),t}function createNavButton(){$("<div></div>").text("IDX ‚Üê").addClass("nav-btn").appendTo("body").click(function(){location.href="./index.html"})}function scrollFunc(t){(t=t||window.event).wheelDelta?(0<t.wheelDelta&&(_showNav(),setTimeout(function(){_hideNav()},1e3)),t.wheelDelta<0&&(_showNav(),setTimeout(function(){_hideNav()},1e3))):t.detail&&(0<t.detail&&(_showNav(),setTimeout(function(){_hideNav()},1e3)),t.detail<0&&(_showNav(),setTimeout(function(){_hideNav()},1e3)))}"true"==localStorage.getItem("isDark")&&toggleColor();var startY=0;function touchStart(t){t=t.touches[0].pageY;startY=t}function touchEnd(t){t.changedTouches[0].pageY;_showNav(),setTimeout(function(){_hideNav()},1e3)}function _showNav(){isMB?($(".top-btn").css("opacity","0.9"),$(".nav-btn").css("opacity","0.9")):($(".top-btn").addClass("nav-show-hide"),$(".nav-btn").addClass("nav-show-hide"))}function _hideNav(){isMB?($(".top-btn").css("opacity","0.1"),$(".nav-btn").css("opacity","0.1")):($(".top-btn").removeClass("nav-show-hide"),$(".nav-btn").removeClass("nav-show-hide"))}function isCurPage(t){if("string"==typeof t){if(["/public/"+t+".html","/public/"+t,"/"+t+".html","/"+t].includes(location.pathname))return!0}else if(t instanceof Array){var e=0;if(t.map(function(t){["/public/"+t+".html","/public"+t,"/"+t+".html","/"+t].includes(location.pathname)&&(e+=1)}),0<e)return!0}}$(document).ready(function(){$("#text-table-of-contents a").each(function(){var t=$(this).attr("href").split("#")[1];$(this).addClass("links "+t)}),$.each([2,3,4,5,6],function(t,e){$(".outline-"+e)&&$(".outline-"+e).each(function(){$(this).addClass("outline")})})}),$(window).scroll(function(){var a,t=$(".outline"),n=$(this).scrollTop(),i=[];t.each(function(){var t,e=$(this).offset().top;i.push(e),e-1<n&&(a=$(this)),n>=i[0]&&(t=(e=(t=a.attr("id")).split("-"))[e.length-1],$(".links").removeClass("js-link-active"),$("."+t).addClass("js-link-active"))})});